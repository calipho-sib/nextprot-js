/*! nextprot 2015-04-16 */
!function(a){"use strict";void 0===a.Nextprot&&(a.Nextprot={}),function(){var b="https://api.nextprot.org/entry/",c="http://alpha-api.nextprot.org/sparql",d="?output=json",e="PREFIX :<http://nextprot.org/rdf#> PREFIX annotation:<http://nextprot.org/rdf/annotation/> PREFIX context:<http://nextprot.org/rdf/context/> PREFIX cv:<http://nextprot.org/rdf/terminology/> PREFIX db:<http://nextprot.org/rdf/db/> PREFIX dc:<http://purl.org/dc/elements/1.1/> PREFIX dcterms:<http://purl.org/dc/terms/> PREFIX entry:<http://nextprot.org/rdf/entry/> PREFIX evidence:<http://nextprot.org/rdf/evidence/> PREFIX foaf:<http://xmlns.com/foaf/0.1/> PREFIX gene:<http://nextprot.org/rdf/gene/> PREFIX identifier:<http://nextprot.org/rdf/identifier/> PREFIX isoform:<http://nextprot.org/rdf/isoform/> PREFIX mo:<http://purl.org/ontology/mo/> PREFIX ov:<http://open.vocab.org/terms/> PREFIX owl:<http://www.w3.org/2002/07/owl#> PREFIX publication:<http://nextprot.org/rdf/publication/> PREFIX rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#> PREFIX sim:<http://purl.org/ontology/similarity/> PREFIX source:<http://nextprot.org/rdf/source/> PREFIX term:<http://nextprot.org/rdf/terminology/> PREFIX xref:<http://nextprot.org/rdf/xref/> PREFIX xsd:<http://www.w3.org/2001/XMLSchema#> ",f=function(){},g=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))};f.prototype.getEntryName=function(){return g("nxentry")||"NX_P01308"};var h=function(a,c){return new Promise(function(d,e){var f=new XMLHttpRequest,g=b+a+"/"+c+".json";f.open("GET",g),f.onload=function(){200==f.status?d(JSON.parse(f.responseText)):e(Error(f.statusText))},f.onerror=function(){e(Error("Network Error"))},f.send()})};f.prototype.executeSparql=function(a){var b=e+a,f=c+d+"&query="+encodeURIComponent(b);return Promise.resolve($.getJSON(f)).then(function(a){return a})},f.prototype.getProteinOverview=function(){return h(this.getEntryName(),"overview").then(function(a){return a.entry.overview})},f.prototype.getProteinSequence=function(){return h(this.getEntryName(),"isoform").then(function(a){return a.entry.isoforms})},f.prototype.getSecondaryStructure=function(){return h(this.getEntryName(),"secondary-structure").then(function(a){return a.entry.annotations})},f.prototype.getMatureProtein=function(){return h(this.getEntryName(),"mature-protein").then(function(a){return a.entry.annotations})},f.prototype.getPeptide=function(a){return h(a||this.getEntryName(),"peptide").then(function(a){return a.entry.peptideMappings})},f.prototype.getSrmPeptide=function(a){return h(a||this.getEntryName(),"srm-peptide").then(function(a){return a.entry.peptideMappings})},"undefined"!=typeof exports&&(exports.Client=f),a.Nextprot.Client=f}()}(this);var loadOverview=function(a,b){if($("#nx-overview").length>0){Handlebars.registerHelper("link_to",function(a,b){switch(a){case"family":var c="http://www.nextprot.org/db/term/"+this.accession;return"<a href='"+c+"'>"+this.name.slice(0,-7)+"</a>";case"history":console.log(a),console.log(this);var c="http://www.uniprot.org/uniprot/"+this.slice(3)+"?version=*";return"<a href='"+c+"'>Complete UniprotKB history</a>"}}),console.log(b);var c={entryName:a.proteinNames[0].synonymName,alternativeName:a.proteinNames[0].synonyms,geneName:a.geneNames[0].synonymName,cleavage:a.cleavedRegionNames,family:a.families,proteineEvidence:a.history.proteinExistence.split("_").join(" ").toLowerCase(),integDate:a.history.formattedNextprotIntegrationDate,lastUpdate:a.history.formattedNextprotUpdateDate,version:a.history.uniprotVersion,UniprotIntegDate:a.history.formattedUniprotIntegrationDate,UniprotLastUpdate:a.history.formattedUniprotUpdateDate,seqVersion:a.history.sequenceVersion,accessionNumber:b};console.log(c);var d=HBtemplates["templates/overviewProtein.tmpl"];console.log(d);var e=d(c);$("#nx-overview").append(e),$("#extender").click(function(a){a.stopPropagation(),$("#INFOS-FULL").toggle("slow"),$("#INFOS-LESS").toggle("slow"),$(this).text(function(a,b){return"Extend overview"===b?"Collapse overview":"Extend overview"})})}};$(function(){var a=window.Nextprot,b=new a.Client,c=b.getEntryName();b.getProteinOverview().then(function(a){loadOverview(a,c)})}),this.HBtemplates=this.HBtemplates||{},this.HBtemplates["templates/overviewProtein.tmpl"]=Handlebars.template({1:function(a,b,c,d){var e,f,g,h='    <div id="cleavage-less" class="row">\n        <div class="col-md-2" style="color: grey;text-align:right">Cleaved into :</div>\n        <div class="col-md-6">';return f=null!=(f=b.cleavage||(null!=a?a.cleavage:a))?f:b.helperMissing,g={name:"cleavage",hash:{},fn:this.program(2,d,0),inverse:this.noop,data:d},e="function"==typeof f?f.call(a,g):f,b.cleavage||(e=b.blockHelperMissing.call(a,e,g)),null!=e&&(h+=e),h+"</div>\n    </div>\n"},2:function(a,b,c,d){var e;return"<span>"+this.escapeExpression((e=null!=(e=b.synonymName||(null!=a?a.synonymName:a))?e:b.helperMissing,"function"==typeof e?e.call(a,{name:"synonymName",hash:{},data:d}):e))+", </span>"},4:function(a,b,c,d){var e,f,g,h='    <div id="family-less" class="row">\n        <div class="col-md-2" style="color: grey;text-align:right">Family Name :</div>\n        <div class="col-md-6">';return f=null!=(f=b.family||(null!=a?a.family:a))?f:b.helperMissing,g={name:"family",hash:{},fn:this.program(5,d,0),inverse:this.noop,data:d},e="function"==typeof f?f.call(a,g):f,b.family||(e=b.blockHelperMissing.call(a,e,g)),null!=e&&(h+=e),h+"</div>\n    </div>\n"},5:function(a,b,c,d){var e;return"<span>"+(null!=(e=(b.link_to||a&&a.link_to||b.helperMissing).call(a,"family",{name:"link_to",hash:{},data:d}))?e:"")+"</span>"},7:function(a,b,c,d){var e,f,g,h="                <dt>Cleaved into the following "+this.escapeExpression(this.lambda(null!=(e=null!=a?a.cleavage:a)?e.length:e,a))+" chains</dt>\n";return f=null!=(f=b.cleavage||(null!=a?a.cleavage:a))?f:b.helperMissing,g={name:"cleavage",hash:{},fn:this.program(8,d,0),inverse:this.noop,data:d},e="function"==typeof f?f.call(a,g):f,b.cleavage||(e=b.blockHelperMissing.call(a,e,g)),null!=e&&(h+=e),h},8:function(a,b,c,d){var e;return"                <dd>"+this.escapeExpression((e=null!=(e=b.synonymName||(null!=a?a.synonymName:a))?e:b.helperMissing,"function"==typeof e?e.call(a,{name:"synonymName",hash:{},data:d}):e))+"</dd>\n                "},10:function(a,b,c,d){var e,f;return"                <dd> "+this.escapeExpression((f=null!=(f=b.synonymName||(null!=a?a.synonymName:a))?f:b.helperMissing,"function"==typeof f?f.call(a,{name:"synonymName",hash:{},data:d}):f))+"\n                    "+(null!=(e=b["if"].call(a,null!=a?a.synonyms:a,{name:"if",hash:{},fn:this.program(11,d,0),inverse:this.noop,data:d}))?e:"")+"\n                </dd>\n"},11:function(a,b,c,d){var e;return'<em style="font-size:12px;">(short : '+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=a?a.synonyms:a)?e[0]:e)?e.synonymName:e,a))+") </em>"},13:function(a,b,c,d){var e,f,g,h='    <div id="family-full" class="row">\n        <div class="col-md-2 text-uppercase" style="color: grey;">Family</div>\n        <div class="col-md-6">\n            <dl>\n                <dt>Family</dt>\n';return f=null!=(f=b.family||(null!=a?a.family:a))?f:b.helperMissing,g={name:"family",hash:{},fn:this.program(14,d,0),inverse:this.noop,data:d},e="function"==typeof f?f.call(a,g):f,b.family||(e=b.blockHelperMissing.call(a,e,g)),null!=e&&(h+=e),h+"            </dl>\n        </div>\n    </div>\n"},14:function(a,b,c,d){var e;return"                <dd>"+(null!=(e=(b.link_to||a&&a.link_to||b.helperMissing).call(a,"family",{name:"link_to",hash:{},data:d}))?e:"")+"</dd>\n"},16:function(a,b,c,d){var e;return null!=(e=(b.link_to||a&&a.link_to||b.helperMissing).call(a,"history",{name:"link_to",hash:{},data:d}))?e:""},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g,h=b.helperMissing,i="function",j=this.escapeExpression,k=b.blockHelperMissing,l='<div id="proteinTitle">\n    <button id="extender" class="btn btn-default" style="float:right">Extend overview</button>\n    <h2>'+j((f=null!=(f=b.entryName||(null!=a?a.entryName:a))?f:h,typeof f===i?f.call(a,{name:"entryName",hash:{},data:d}):f))+'</h2>\n</div>\n<div id="INFOS-LESS" style="display:block">\n'+(null!=(e=b["if"].call(a,null!=a?a.cleavage:a,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+'    <div id="gene-less" class="row">\n        <div class="col-md-2" style="color: grey;text-align:right">Gene Name :</div>\n        <div class="col-md-6">'+j((f=null!=(f=b.geneName||(null!=a?a.geneName:a))?f:h,typeof f===i?f.call(a,{name:"geneName",hash:{},data:d}):f))+"</div>\n    </div>\n"+(null!=(e=b["if"].call(a,null!=a?a.family:a,{name:"if",hash:{},fn:this.program(4,d,0),inverse:this.noop,data:d}))?e:"")+'</div>\n<div id="INFOS-FULL" style="display:none">\n    <div id="gene-full" class="row">\n        <div class="col-md-2 text-uppercase" style="color: grey;">Protein</div>\n        <div class="col-md-6">\n            <dl>\n                <dt>Recommended Name</dt>\n                <dd> '+j((f=null!=(f=b.geneName||(null!=a?a.geneName:a))?f:h,typeof f===i?f.call(a,{name:"geneName",hash:{},data:d}):f))+"</dd>\n"+(null!=(e=b["if"].call(a,null!=a?a.cleavage:a,{name:"if",hash:{},fn:this.program(7,d,0),inverse:this.noop,data:d}))?e:"")+"\n                <dt>Alernative Name</dt>\n";return f=null!=(f=b.alternativeName||(null!=a?a.alternativeName:a))?f:h,g={name:"alternativeName",hash:{},fn:this.program(10,d,0),inverse:this.noop,data:d},e=typeof f===i?f.call(a,g):f,b.alternativeName||(e=k.call(a,e,g)),null!=e&&(l+=e),l+="            </dl>\n        </div>\n    </div>\n"+(null!=(e=b["if"].call(a,null!=a?a.family:a,{name:"if",hash:{},fn:this.program(13,d,0),inverse:this.noop,data:d}))?e:"")+'    <div id="History-full" class="row">\n        <div class="col-md-2 text-uppercase" style="color: grey;">History</div>\n        <div class="col-md-6">\n            <dl>\n                <dt>NeXtProt</dt>\n                <dd>Integrated '+j((f=null!=(f=b.integDate||(null!=a?a.integDate:a))?f:h,typeof f===i?f.call(a,{name:"integDate",hash:{},data:d}):f))+"</dd>\n                <dd>Last Updated "+j((f=null!=(f=b.lastUpdate||(null!=a?a.lastUpdate:a))?f:h,typeof f===i?f.call(a,{name:"lastUpdate",hash:{},data:d}):f))+"</dd>\n                <dt>UniprotKB</dt>\n                <dd>Entry version "+j((f=null!=(f=b.version||(null!=a?a.version:a))?f:h,typeof f===i?f.call(a,{name:"version",hash:{},data:d}):f))+"</dd>\n                <dd>Integration Date "+j((f=null!=(f=b.UniprotIntegDate||(null!=a?a.UniprotIntegDate:a))?f:h,typeof f===i?f.call(a,{name:"UniprotIntegDate",hash:{},data:d}):f))+"</dd>\n                <dd>Last Update "+j((f=null!=(f=b.UniprotLastUpdate||(null!=a?a.UniprotLastUpdate:a))?f:h,typeof f===i?f.call(a,{name:"UniprotLastUpdate",hash:{},data:d}):f))+"</dd>\n                <dd>Sequence version "+j((f=null!=(f=b.seqVersion||(null!=a?a.seqVersion:a))?f:h,typeof f===i?f.call(a,{name:"seqVersion",hash:{},data:d}):f))+"</dd>\n                <dd>",f=null!=(f=b.accessionNumber||(null!=a?a.accessionNumber:a))?f:h,g={name:"accessionNumber",hash:{},fn:this.program(16,d,0),inverse:this.noop,data:d},e=typeof f===i?f.call(a,g):f,b.accessionNumber||(e=k.call(a,e,g)),null!=e&&(l+=e),l+'</dd>\n            </dl>\n        </div>\n    </div>\n</div>\n<p style="margin:10px 10px;">Entry whose protein(s) existence is based on '+j((f=null!=(f=b.proteineEvidence||(null!=a?a.proteineEvidence:a))?f:h,typeof f===i?f.call(a,{name:"proteineEvidence",hash:{},data:d}):f))+"</p>"},useData:!0});